YUI.add('event-mousewheel',function(Y,NAME){var DOM_MOUSE_SCROLL='DOMMouseScroll',fixArgs=function(args){var a=Y.Array(args,0,true),target;if(Y.UA.gecko){a[0]=DOM_MOUSE_SCROLL;target=Y.config.win;}else{target=Y.config.doc;}if(a.length<3){a[2]=target;}else{a.splice(2,0,target);}return a;};Y.Env.evt.plugins.mousewheel={on:function(){return Y.Event._attach(fixArgs(arguments));},detach:function(){return Y.Event.detach.apply(Y.Event,fixArgs(arguments));}};},'3.17.2',{"requires":["node-base"]});YUI.add('event-resize',function(Y,NAME){Y.Event.define('windowresize',{on:(Y.UA.gecko&&Y.UA.gecko<1.91)?function(node,sub,notifier){sub._handle=Y.Event.attach('resize',function(e){notifier.fire(e);});}:function(node,sub,notifier){var delay=Y.config.windowResizeDelay||100;sub._handle=Y.Event.attach('resize',function(e){if(sub._timer){sub._timer.cancel();}sub._timer=Y.later(delay,Y,function(){notifier.fire(e);});});},detach:function(node,sub){if(sub._timer){sub._timer.cancel();}sub._handle.detach();}});},'3.17.2',{"requires":["node-base","event-synthetic"]});YUI.add('event-hover',function(Y,NAME){var isFunction=Y.Lang.isFunction,noop=function(){},conf={processArgs:function(args){var i=isFunction(args[2])?2:3;return(isFunction(args[i]))?args.splice(i,1)[0]:noop;},on:function(node,sub,notifier,filter){var args=(sub.args)?sub.args.slice():[];args.unshift(null);sub._detach=node[(filter)?"delegate":"on"]({mouseenter:function(e){e.phase='over';notifier.fire(e);},mouseleave:function(e){var thisObj=sub.context||this;args[0]=e;e.type='hover';e.phase='out';sub._extra.apply(thisObj,args);}},filter);},detach:function(node,sub,notifier){sub._detach.detach();}};conf.delegate=conf.on;conf.detachDelegate=conf.detach;Y.Event.define("hover",conf);},'3.17.2',{"requires":["event-mouseenter"]});YUI.add('event-touch',function(Y,NAME){var SCALE="scale",ROTATION="rotation",IDENTIFIER="identifier",win=Y.config.win,GESTURE_MAP={};Y.DOMEventFacade.prototype._touch=function(e,currentTarget,wrapper){var i,l,etCached,et,touchCache;if(e.touches){this.touches=[];touchCache={};for(i=0,l=e.touches.length;i<l;++i){et=e.touches[i];touchCache[Y.stamp(et)]=this.touches[i]=new Y.DOMEventFacade(et,currentTarget,wrapper);}}if(e.targetTouches){this.targetTouches=[];for(i=0,l=e.targetTouches.length;i<l;++i){et=e.targetTouches[i];etCached=touchCache&&touchCache[Y.stamp(et,true)];this.targetTouches[i]=etCached||new Y.DOMEventFacade(et,currentTarget,wrapper);}}if(e.changedTouches){this.changedTouches=[];for(i=0,l=e.changedTouches.length;i<l;++i){et=e.changedTouches[i];etCached=touchCache&&touchCache[Y.stamp(et,true)];this.changedTouches[i]=etCached||new Y.DOMEventFacade(et,currentTarget,wrapper);}}if(SCALE in e){this[SCALE]=e[SCALE];}if(ROTATION in e){this[ROTATION]=e[ROTATION];}if(IDENTIFIER in e){this[IDENTIFIER]=e[IDENTIFIER];}};if(Y.Node.DOM_EVENTS){Y.mix(Y.Node.DOM_EVENTS,{touchstart:1,touchmove:1,touchend:1,touchcancel:1,gesturestart:1,gesturechange:1,gestureend:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1,MSPointerCancel:1,pointerdown:1,pointerup:1,pointermove:1,pointercancel:1});}if((win&&("ontouchstart"in win))&&!(Y.UA.chrome&&Y.UA.chrome<6)){GESTURE_MAP.start=["touchstart","mousedown"];GESTURE_MAP.end=["touchend","mouseup"];GESTURE_MAP.move=["touchmove","mousemove"];GESTURE_MAP.cancel=["touchcancel","mousecancel"];}else if(win&&win.PointerEvent){GESTURE_MAP.start="pointerdown";GESTURE_MAP.end="pointerup";GESTURE_MAP.move="pointermove";GESTURE_MAP.cancel="pointercancel";}else if(win&&("msPointerEnabled"in win.navigator)){GESTURE_MAP.start="MSPointerDown";GESTURE_MAP.end="MSPointerUp";GESTURE_MAP.move="MSPointerMove";GESTURE_MAP.cancel="MSPointerCancel";}else{GESTURE_MAP.start="mousedown";GESTURE_MAP.end="mouseup";GESTURE_MAP.move="mousemove";GESTURE_MAP.cancel="mousecancel";}Y.Event._GESTURE_MAP=GESTURE_MAP;},'3.17.2',{"requires":["node-base"]});YUI.add('event-move',function(Y,NAME){var GESTURE_MAP=Y.Event._GESTURE_MAP,EVENT={start:GESTURE_MAP.start,end:GESTURE_MAP.end,move:GESTURE_MAP.move},START="start",MOVE="move",END="end",GESTURE_MOVE="gesture"+MOVE,GESTURE_MOVE_END=GESTURE_MOVE+END,GESTURE_MOVE_START=GESTURE_MOVE+START,_MOVE_START_HANDLE="_msh",_MOVE_HANDLE="_mh",_MOVE_END_HANDLE="_meh",_DEL_MOVE_START_HANDLE="_dmsh",_DEL_MOVE_HANDLE="_dmh",_DEL_MOVE_END_HANDLE="_dmeh",_MOVE_START="_ms",_MOVE="_m",MIN_TIME="minTime",MIN_DISTANCE="minDistance",PREVENT_DEFAULT="preventDefault",BUTTON="button",OWNER_DOCUMENT="ownerDocument",CURRENT_TARGET="currentTarget",TARGET="target",NODE_TYPE="nodeType",SUPPORTS_POINTER=Y.config.win&&("msPointerEnabled"in Y.config.win.navigator),MS_TOUCH_ACTION_COUNT='msTouchActionCount',MS_INIT_TOUCH_ACTION='msInitTouchAction',_defArgsProcessor=function(se,args,delegate){var iConfig=(delegate)?4:3,config=(args.length>iConfig)?Y.merge(args.splice(iConfig,1)[0]):{};if(!(PREVENT_DEFAULT in config)){config[PREVENT_DEFAULT]=se.PREVENT_DEFAULT;}return config;},_getRoot=function(node,subscriber){return subscriber._extra.root||(node.get(NODE_TYPE)===9)?node:node.get(OWNER_DOCUMENT);},_checkDocumentElem=function(node){var elem=node.getDOMNode();if(node.compareTo(Y.config.doc)&&elem.documentElement){return elem.documentElement;}else{return false;}},_normTouchFacade=function(touchFacade,touch,params){touchFacade.pageX=touch.pageX;touchFacade.pageY=touch.pageY;touchFacade.screenX=touch.screenX;touchFacade.screenY=touch.screenY;touchFacade.clientX=touch.clientX;touchFacade.clientY=touch.clientY;touchFacade[TARGET]=touchFacade[TARGET]||touch[TARGET];touchFacade[CURRENT_TARGET]=touchFacade[CURRENT_TARGET]||touch[CURRENT_TARGET];touchFacade[BUTTON]=(params&&params[BUTTON])||1;},_setTouchActions=function(node){var elem=_checkDocumentElem(node)||node.getDOMNode(),num=node.getData(MS_TOUCH_ACTION_COUNT);if(SUPPORTS_POINTER){if(!num){num=0;node.setData(MS_INIT_TOUCH_ACTION,elem.style.msTouchAction);}elem.style.msTouchAction=Y.Event._DEFAULT_TOUCH_ACTION;num++;node.setData(MS_TOUCH_ACTION_COUNT,num);}},_unsetTouchActions=function(node){var elem=_checkDocumentElem(node)||node.getDOMNode(),num=node.getData(MS_TOUCH_ACTION_COUNT),initTouchAction=node.getData(MS_INIT_TOUCH_ACTION);if(SUPPORTS_POINTER){num--;node.setData(MS_TOUCH_ACTION_COUNT,num);if(num===0&&elem.style.msTouchAction!==initTouchAction){elem.style.msTouchAction=initTouchAction;}}},_prevent=function(e,preventDefault){if(preventDefault){if(!preventDefault.call||preventDefault(e)){e.preventDefault();}}},define=Y.Event.define;Y.Event._DEFAULT_TOUCH_ACTION='none';define(GESTURE_MOVE_START,{on:function(node,subscriber,ce){_setTouchActions(node);subscriber[_MOVE_START_HANDLE]=node.on(EVENT[START],this._onStart,this,node,subscriber,ce);},delegate:function(node,subscriber,ce,filter){var se=this;subscriber[_DEL_MOVE_START_HANDLE]=node.delegate(EVENT[START],function(e){se._onStart(e,node,subscriber,ce,true);},filter);},detachDelegate:function(node,subscriber,ce,filter){var handle=subscriber[_DEL_MOVE_START_HANDLE];if(handle){handle.detach();subscriber[_DEL_MOVE_START_HANDLE]=null;}_unsetTouchActions(node);},detach:function(node,subscriber,ce){var startHandle=subscriber[_MOVE_START_HANDLE];if(startHandle){startHandle.detach();subscriber[_MOVE_START_HANDLE]=null;}_unsetTouchActions(node);},processArgs:function(args,delegate){var params=_defArgsProcessor(this,args,delegate);if(!(MIN_TIME in params)){params[MIN_TIME]=this.MIN_TIME;}if(!(MIN_DISTANCE in params)){params[MIN_DISTANCE]=this.MIN_DISTANCE;}return params;},_onStart:function(e,node,subscriber,ce,delegate){if(delegate){node=e[CURRENT_TARGET];}var params=subscriber._extra,fireStart=true,minTime=params[MIN_TIME],minDistance=params[MIN_DISTANCE],button=params.button,preventDefault=params[PREVENT_DEFAULT],root=_getRoot(node,subscriber),startXY;if(e.touches){if(e.touches.length===1){_normTouchFacade(e,e.touches[0],params);}else{fireStart=false;}}else{fireStart=(button===undefined)||(button===e.button);}if(fireStart){_prevent(e,preventDefault);if(minTime===0||minDistance===0){this._start(e,node,ce,params);}else{startXY=[e.pageX,e.pageY];if(minTime>0){params._ht=Y.later(minTime,this,this._start,[e,node,ce,params]);params._hme=root.on(EVENT[END],Y.bind(function(){this._cancel(params);},this));}if(minDistance>0){params._hm=root.on(EVENT[MOVE],Y.bind(function(em){if(Math.abs(em.pageX-startXY[0])>minDistance||Math.abs(em.pageY-startXY[1])>minDistance){this._start(e,node,ce,params);}},this));}}}},_cancel:function(params){if(params._ht){params._ht.cancel();params._ht=null;}if(params._hme){params._hme.detach();params._hme=null;}if(params._hm){params._hm.detach();params._hm=null;}},_start:function(e,node,ce,params){if(params){this._cancel(params);}e.type=GESTURE_MOVE_START;node.setData(_MOVE_START,e);ce.fire(e);},MIN_TIME:0,MIN_DISTANCE:0,PREVENT_DEFAULT:false});define(GESTURE_MOVE,{on:function(node,subscriber,ce){_setTouchActions(node);var root=_getRoot(node,subscriber,EVENT[MOVE]),moveHandle=root.on(EVENT[MOVE],this._onMove,this,node,subscriber,ce);subscriber[_MOVE_HANDLE]=moveHandle;},delegate:function(node,subscriber,ce,filter){var se=this;subscriber[_DEL_MOVE_HANDLE]=node.delegate(EVENT[MOVE],function(e){se._onMove(e,node,subscriber,ce,true);},filter);},detach:function(node,subscriber,ce){var moveHandle=subscriber[_MOVE_HANDLE];if(moveHandle){moveHandle.detach();subscriber[_MOVE_HANDLE]=null;}_unsetTouchActions(node);},detachDelegate:function(node,subscriber,ce,filter){var handle=subscriber[_DEL_MOVE_HANDLE];if(handle){handle.detach();subscriber[_DEL_MOVE_HANDLE]=null;}_unsetTouchActions(node);},processArgs:function(args,delegate){return _defArgsProcessor(this,args,delegate);},_onMove:function(e,node,subscriber,ce,delegate){if(delegate){node=e[CURRENT_TARGET];}var fireMove=subscriber._extra.standAlone||node.getData(_MOVE_START),preventDefault=subscriber._extra.preventDefault;if(fireMove){if(e.touches){if(e.touches.length===1){_normTouchFacade(e,e.touches[0]);}else{fireMove=false;}}if(fireMove){_prevent(e,preventDefault);e.type=GESTURE_MOVE;ce.fire(e);}}},PREVENT_DEFAULT:false});define(GESTURE_MOVE_END,{on:function(node,subscriber,ce){_setTouchActions(node);var root=_getRoot(node,subscriber),endHandle=root.on(EVENT[END],this._onEnd,this,node,subscriber,ce);subscriber[_MOVE_END_HANDLE]=endHandle;},delegate:function(node,subscriber,ce,filter){var se=this;subscriber[_DEL_MOVE_END_HANDLE]=node.delegate(EVENT[END],function(e){se._onEnd(e,node,subscriber,ce,true);},filter);},detachDelegate:function(node,subscriber,ce,filter){var handle=subscriber[_DEL_MOVE_END_HANDLE];if(handle){handle.detach();subscriber[_DEL_MOVE_END_HANDLE]=null;}_unsetTouchActions(node);},detach:function(node,subscriber,ce){var endHandle=subscriber[_MOVE_END_HANDLE];if(endHandle){endHandle.detach();subscriber[_MOVE_END_HANDLE]=null;}_unsetTouchActions(node);},processArgs:function(args,delegate){return _defArgsProcessor(this,args,delegate);},_onEnd:function(e,node,subscriber,ce,delegate){if(delegate){node=e[CURRENT_TARGET];}var fireMoveEnd=subscriber._extra.standAlone||node.getData(_MOVE)||node.getData(_MOVE_START),preventDefault=subscriber._extra.preventDefault;if(fireMoveEnd){if(e.changedTouches){if(e.changedTouches.length===1){_normTouchFacade(e,e.changedTouches[0]);}else{fireMoveEnd=false;}}if(fireMoveEnd){_prevent(e,preventDefault);e.type=GESTURE_MOVE_END;ce.fire(e);node.clearData(_MOVE_START);node.clearData(_MOVE);}}},PREVENT_DEFAULT:false});},'3.17.2',{"requires":["node-base","event-touch","event-synthetic"]});YUI.add('event-flick',function(Y,NAME){var GESTURE_MAP=Y.Event._GESTURE_MAP,EVENT={start:GESTURE_MAP.start,end:GESTURE_MAP.end,move:GESTURE_MAP.move},START="start",END="end",MOVE="move",OWNER_DOCUMENT="ownerDocument",MIN_VELOCITY="minVelocity",MIN_DISTANCE="minDistance",PREVENT_DEFAULT="preventDefault",_FLICK_START="_fs",_FLICK_START_HANDLE="_fsh",_FLICK_END_HANDLE="_feh",_FLICK_MOVE_HANDLE="_fmh",NODE_TYPE="nodeType";Y.Event.define('flick',{on:function(node,subscriber,ce){var startHandle=node.on(EVENT[START],this._onStart,this,node,subscriber,ce);subscriber[_FLICK_START_HANDLE]=startHandle;},detach:function(node,subscriber,ce){var startHandle=subscriber[_FLICK_START_HANDLE],endHandle=subscriber[_FLICK_END_HANDLE];if(startHandle){startHandle.detach();subscriber[_FLICK_START_HANDLE]=null;}if(endHandle){endHandle.detach();subscriber[_FLICK_END_HANDLE]=null;}},processArgs:function(args){var params=(args.length>3)?Y.merge(args.splice(3,1)[0]):{};if(!(MIN_VELOCITY in params)){params[MIN_VELOCITY]=this.MIN_VELOCITY;}if(!(MIN_DISTANCE in params)){params[MIN_DISTANCE]=this.MIN_DISTANCE;}if(!(PREVENT_DEFAULT in params)){params[PREVENT_DEFAULT]=this.PREVENT_DEFAULT;}return params;},_onStart:function(e,node,subscriber,ce){var start=true,endHandle,moveHandle,doc,preventDefault=subscriber._extra.preventDefault,origE=e;if(e.touches){start=(e.touches.length===1);e=e.touches[0];}if(start){if(preventDefault){if(!preventDefault.call||preventDefault(e)){origE.preventDefault();}}e.flick={time:new Date().getTime()};subscriber[_FLICK_START]=e;endHandle=subscriber[_FLICK_END_HANDLE];doc=(node.get(NODE_TYPE)===9)?node:node.get(OWNER_DOCUMENT);if(!endHandle){endHandle=doc.on(EVENT[END],Y.bind(this._onEnd,this),null,node,subscriber,ce);subscriber[_FLICK_END_HANDLE]=endHandle;}subscriber[_FLICK_MOVE_HANDLE]=doc.once(EVENT[MOVE],Y.bind(this._onMove,this),null,node,subscriber,ce);}},_onMove:function(e,node,subscriber,ce){var start=subscriber[_FLICK_START];if(start&&start.flick){start.flick.time=new Date().getTime();}},_onEnd:function(e,node,subscriber,ce){var endTime=new Date().getTime(),start=subscriber[_FLICK_START],valid=!!start,endEvent=e,startTime,time,preventDefault,params,xyDistance,distance,velocity,axis,moveHandle=subscriber[_FLICK_MOVE_HANDLE];if(moveHandle){moveHandle.detach();delete subscriber[_FLICK_MOVE_HANDLE];}if(valid){if(e.changedTouches){if(e.changedTouches.length===1&&e.touches.length===0){endEvent=e.changedTouches[0];}else{valid=false;}}if(valid){params=subscriber._extra;preventDefault=params[PREVENT_DEFAULT];if(preventDefault){if(!preventDefault.call||preventDefault(e)){e.preventDefault();}}startTime=start.flick.time;endTime=new Date().getTime();time=endTime-startTime;xyDistance=[endEvent.pageX-start.pageX,endEvent.pageY-start.pageY];if(params.axis){axis=params.axis;}else{axis=(Math.abs(xyDistance[0])>=Math.abs(xyDistance[1]))?'x':'y';}distance=xyDistance[(axis==='x')?0:1];velocity=(time!==0)?distance/time:0;if(isFinite(velocity)&&(Math.abs(distance)>=params[MIN_DISTANCE])&&(Math.abs(velocity)>=params[MIN_VELOCITY])){e.type="flick";e.flick={time:time,distance:distance,velocity:velocity,axis:axis,start:start};ce.fire(e);}subscriber[_FLICK_START]=null;}}},MIN_VELOCITY:0,MIN_DISTANCE:0,PREVENT_DEFAULT:false});},'3.17.2',{"requires":["node-base","event-touch","event-synthetic"]});YUI.add('event-valuechange',function(Y,NAME){var DATA_KEY='_valuechange',VALUE='value',NODE_NAME='nodeName',config,VC={POLL_INTERVAL:50,TIMEOUT:10000,_poll:function(node,options){var domNode=node._node,event=options.e,vcData=node._data&&node._data[DATA_KEY],stopped=0,facade,prevVal,newVal,nodeName,selectedOption,stopElement;if(!(domNode&&vcData)){VC._stopPolling(node);return;}prevVal=vcData.prevVal;nodeName=vcData.nodeName;if(vcData.isEditable){newVal=domNode.innerHTML;}else if(nodeName==='input'||nodeName==='textarea'){newVal=domNode.value;}else if(nodeName==='select'){selectedOption=domNode.options[domNode.selectedIndex];newVal=selectedOption.value||selectedOption.text;}if(newVal!==prevVal){vcData.prevVal=newVal;facade={_event:event,currentTarget:(event&&event.currentTarget)||node,newVal:newVal,prevVal:prevVal,target:(event&&event.target)||node};Y.Object.some(vcData.notifiers,function(notifier){var evt=notifier.handle.evt,newStopped;if(stopped!==1){notifier.fire(facade);}else if(evt.el===stopElement){notifier.fire(facade);}newStopped=evt&&evt._facade?evt._facade.stopped:0;if(newStopped>stopped){stopped=newStopped;if(stopped===1){stopElement=evt.el;}}if(stopped===2){return true;}});VC._refreshTimeout(node);}},_refreshTimeout:function(node,notifier){if(!node._node){return;}var vcData=node.getData(DATA_KEY);VC._stopTimeout(node);vcData.timeout=setTimeout(function(){VC._stopPolling(node,notifier);},VC.TIMEOUT);},_startPolling:function(node,notifier,options){var vcData,isEditable;if(!node.test('input,textarea,select')&&!(isEditable=VC._isEditable(node))){return;}vcData=node.getData(DATA_KEY);if(!vcData){vcData={nodeName:node.get(NODE_NAME).toLowerCase(),isEditable:isEditable,prevVal:isEditable?node.getDOMNode().innerHTML:node.get(VALUE)};node.setData(DATA_KEY,vcData);}vcData.notifiers||(vcData.notifiers={});if(vcData.interval){if(options.force){VC._stopPolling(node,notifier);}else{vcData.notifiers[Y.stamp(notifier)]=notifier;return;}}vcData.notifiers[Y.stamp(notifier)]=notifier;vcData.interval=setInterval(function(){VC._poll(node,options);},VC.POLL_INTERVAL);VC._refreshTimeout(node,notifier);},_stopPolling:function(node,notifier){if(!node._node){return;}var vcData=node.getData(DATA_KEY)||{};clearInterval(vcData.interval);delete vcData.interval;VC._stopTimeout(node);if(notifier){vcData.notifiers&&delete vcData.notifiers[Y.stamp(notifier)];}else{vcData.notifiers={};}},_stopTimeout:function(node){var vcData=node.getData(DATA_KEY)||{};clearTimeout(vcData.timeout);delete vcData.timeout;},_isEditable:function(node){var domNode=node._node;return domNode.contentEditable==='true'||domNode.contentEditable==='';},_onBlur:function(e,notifier){VC._stopPolling(e.currentTarget,notifier);},_onFocus:function(e,notifier){var node=e.currentTarget,vcData=node.getData(DATA_KEY);if(!vcData){vcData={isEditable:VC._isEditable(node),nodeName:node.get(NODE_NAME).toLowerCase()};node.setData(DATA_KEY,vcData);}vcData.prevVal=vcData.isEditable?node.getDOMNode().innerHTML:node.get(VALUE);VC._startPolling(node,notifier,{e:e});},_onKeyDown:function(e,notifier){VC._startPolling(e.currentTarget,notifier,{e:e});},_onKeyUp:function(e,notifier){if(e.charCode===229||e.charCode===197){VC._startPolling(e.currentTarget,notifier,{e:e,force:true});}},_onMouseDown:function(e,notifier){VC._startPolling(e.currentTarget,notifier,{e:e});},_onSubscribe:function(node,sub,notifier,filter){var _valuechange,callbacks,isEditable,inputNodes,editableNodes;callbacks={blur:VC._onBlur,focus:VC._onFocus,keydown:VC._onKeyDown,keyup:VC._onKeyUp,mousedown:VC._onMouseDown};_valuechange=notifier._valuechange={};if(filter){_valuechange.delegated=true;_valuechange.getNodes=function(){inputNodes=node.all('input,textarea,select').filter(filter);editableNodes=node.all('[contenteditable="true"],[contenteditable=""]').filter(filter);return inputNodes.concat(editableNodes);};_valuechange.getNodes().each(function(child){if(!child.getData(DATA_KEY)){child.setData(DATA_KEY,{nodeName:child.get(NODE_NAME).toLowerCase(),isEditable:VC._isEditable(child),prevVal:isEditable?child.getDOMNode().innerHTML:child.get(VALUE)});}});notifier._handles=Y.delegate(callbacks,node,filter,null,notifier);}else{isEditable=VC._isEditable(node);if(!node.test('input,textarea,select')&&!isEditable){return;}if(!node.getData(DATA_KEY)){node.setData(DATA_KEY,{nodeName:node.get(NODE_NAME).toLowerCase(),isEditable:isEditable,prevVal:isEditable?node.getDOMNode().innerHTML:node.get(VALUE)});}notifier._handles=node.on(callbacks,null,null,notifier);}},_onUnsubscribe:function(node,subscription,notifier){var _valuechange=notifier._valuechange;notifier._handles&&notifier._handles.detach();if(_valuechange.delegated){_valuechange.getNodes().each(function(child){VC._stopPolling(child,notifier);});}else{VC._stopPolling(node,notifier);}}};config={detach:VC._onUnsubscribe,on:VC._onSubscribe,delegate:VC._onSubscribe,detachDelegate:VC._onUnsubscribe,publishConfig:{emitFacade:true}};Y.Event.define('valuechange',config);Y.Event.define('valueChange',config);Y.ValueChange=VC;},'3.17.2',{"requires":["event-focus","event-synthetic"]});YUI.add('event-tap',function(Y,NAME){var doc=Y.config.doc,GESTURE_MAP=Y.Event._GESTURE_MAP,EVT_START=GESTURE_MAP.start,EVT_TAP='tap',POINTER_EVENT_TEST=/pointer/i,HANDLES={START:'Y_TAP_ON_START_HANDLE',END:'Y_TAP_ON_END_HANDLE',CANCEL:'Y_TAP_ON_CANCEL_HANDLE'};function detachHandles(subscription,handles){handles=handles||Y.Object.values(HANDLES);Y.Array.each(handles,function(item){var handle=subscription[item];if(handle){handle.detach();subscription[item]=null;}});}Y.Event.define(EVT_TAP,{publishConfig:{preventedFn:function(e){var sub=e.target.once('click',function(click){click.preventDefault();});setTimeout(function(){sub.detach();},100);}},processArgs:function(args,isDelegate){if(!isDelegate){var extra=args[3];args.splice(3,1);return extra;}},on:function(node,subscription,notifier){subscription[HANDLES.START]=node.on(EVT_START,this._start,this,node,subscription,notifier);},detach:function(node,subscription,notifier){detachHandles(subscription);},delegate:function(node,subscription,notifier,filter){subscription[HANDLES.START]=Y.delegate(EVT_START,function(e){this._start(e,node,subscription,notifier,true);},node,filter,this);},detachDelegate:function(node,subscription,notifier){detachHandles(subscription);},_start:function(event,node,subscription,notifier,delegate){var context={canceled:false,eventType:event.type},preventMouse=subscription.preventMouse||false;if(event.button&&event.button===3){return;}if(event.touches&&event.touches.length!==1){return;}context.node=delegate?event.currentTarget:node;if(event.touches){context.startXY=[event.touches[0].pageX,event.touches[0].pageY];}else{context.startXY=[event.pageX,event.pageY];}if(event.touches){subscription[HANDLES.END]=node.once('touchend',this._end,this,node,subscription,notifier,delegate,context);subscription[HANDLES.CANCEL]=node.once('touchcancel',this.detach,this,node,subscription,notifier,delegate,context);subscription.preventMouse=true;}else if(context.eventType.indexOf('mouse')!==-1&&!preventMouse){subscription[HANDLES.END]=node.once('mouseup',this._end,this,node,subscription,notifier,delegate,context);subscription[HANDLES.CANCEL]=node.once('mousecancel',this.detach,this,node,subscription,notifier,delegate,context);}else if(context.eventType.indexOf('mouse')!==-1&&preventMouse){subscription.preventMouse=false;}else if(POINTER_EVENT_TEST.test(context.eventType)){subscription[HANDLES.END]=node.once(GESTURE_MAP.end,this._end,this,node,subscription,notifier,delegate,context);subscription[HANDLES.CANCEL]=node.once(GESTURE_MAP.cancel,this.detach,this,node,subscription,notifier,delegate,context);}},_end:function(event,node,subscription,notifier,delegate,context){var startXY=context.startXY,endXY,clientXY,sensitivity=15;if(subscription._extra&&subscription._extra.sensitivity>=0){sensitivity=subscription._extra.sensitivity;}if(event.changedTouches){endXY=[event.changedTouches[0].pageX,event.changedTouches[0].pageY];clientXY=[event.changedTouches[0].clientX,event.changedTouches[0].clientY];}else{endXY=[event.pageX,event.pageY];clientXY=[event.clientX,event.clientY];}if(Math.abs(endXY[0]-startXY[0])<=sensitivity&&Math.abs(endXY[1]-startXY[1])<=sensitivity){event.type=EVT_TAP;event.pageX=endXY[0];event.pageY=endXY[1];event.clientX=clientXY[0];event.clientY=clientXY[1];event.currentTarget=context.node;notifier.fire(event);}detachHandles(subscription,[HANDLES.END,HANDLES.CANCEL]);}});},'3.17.2',{"requires":["node-base","event-base","event-touch","event-synthetic"]});YUI.add('moodle-core-formchangechecker',function(Y,NAME){var FORMCHANGECHECKERNAME='core-formchangechecker',FORMCHANGECHECKER=function(){FORMCHANGECHECKER.superclass.constructor.apply(this,arguments);};Y.extend(FORMCHANGECHECKER,Y.Base,{initialvaluelisteners:[],initializer:function(){var formid='form#'+this.get('formid'),currentform=Y.one(formid);if(!currentform){return;}if(!M.core_formchangechecker.stateinformation.formchanged){M.core_formchangechecker.stateinformation.formchanged=this.get('initialdirtystate');}Y.on(M.core.event.EDITOR_CONTENT_RESTORED,M.core_formchangechecker.reset_form_dirty_state,this);currentform.delegate('change',M.core_formchangechecker.set_form_changed,'input',this);currentform.delegate('change',M.core_formchangechecker.set_form_changed,'textarea',this);currentform.delegate('change',M.core_formchangechecker.set_form_changed,'select',this);this.initialvaluelisteners.push(currentform.delegate('focus',this.store_initial_value,'input',this));this.initialvaluelisteners.push(currentform.delegate('focus',this.store_initial_value,'textarea',this));this.initialvaluelisteners.push(currentform.delegate('focus',this.store_initial_value,'select',this));currentform.delegate('click',function(){currentform.setData('ignoreSubmission',true);},'[data-formchangechecker-ignore-submit]');Y.one(formid).on('submit',function(){if(currentform.getData('ignoreSubmission')){currentform.clearData('ignoreSubmission');return;}M.core_formchangechecker.set_form_submitted();},this);window.onbeforeunload=M.core_formchangechecker.report_form_dirty_state;},store_initial_value:function(e){var thisevent;if(e.target.ancestor('.ignoredirty',true)||e.target.ancestor('[data-formchangechecker-ignore-dirty]',true)){return;}if(M.core_formchangechecker.get_form_dirty_state()){while(this.initialvaluelisteners.length){thisevent=this.initialvaluelisteners.shift();thisevent.detach();}return;}M.core_formchangechecker.stateinformation.focused_element={element:e.target,initial_value:e.target.get('value')};}},{NAME:FORMCHANGECHECKERNAME,ATTRS:{formid:{'value':''},initialdirtystate:{'value':false}}});M.core_formchangechecker=M.core_formchangechecker||{};M.core_formchangechecker.instances=M.core_formchangechecker.instances||[];M.core_formchangechecker.init=function(config){var formchangechecker=new FORMCHANGECHECKER(config);M.core_formchangechecker.instances.push(formchangechecker);return formchangechecker;};M.core_formchangechecker.stateinformation=[];M.core_formchangechecker.set_form_changed=function(e){if(e&&e.target&&(e.target.ancestor('.ignoredirty',true)||e.target.ancestor('[data-formchangechecker-ignore-dirty]',true))){return;}M.core_formchangechecker.stateinformation.formchanged=1;delete M.core_formchangechecker.stateinformation.focused_element;};M.core_formchangechecker.set_form_submitted=function(){M.core_formchangechecker.stateinformation.formsubmitted=1;};M.core_formchangechecker.get_form_dirty_state=function(){var state=M.core_formchangechecker.stateinformation,editor;if(state.formsubmitted){return 0;}if(state.formchanged){return 1;}if(state.focused_element){if(state.focused_element.element.get('value')!==state.focused_element.initial_value){return 1;}}if(typeof window.tinyMCE!=='undefined'&&window.tinyMCE.editors){for(editor in window.tinyMCE.editors){if(window.tinyMCE.editors[editor].isDirty()){return 1;}}}return 0;};M.core_formchangechecker.reset_form_dirty_state=function(){M.core_formchangechecker.stateinformation.formsubmitted=false;M.core_formchangechecker.stateinformation.formchanged=false;};M.core_formchangechecker.report_form_dirty_state=function(e){if(!M.core_formchangechecker.get_form_dirty_state()){return;}var warningmessage=M.util.get_string('changesmadereallygoaway','moodle');if(M.cfg.behatsiterunning){return;}if(e){e.returnValue=warningmessage;}return warningmessage;};},'@VERSION@',{"requires":["base","event-focus","moodle-core-event"]});