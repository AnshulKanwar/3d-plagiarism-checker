YUI.add('moodle-core-event',function(Y,NAME){var LOGNAME='moodle-core-event';M.core=M.core||{};M.core.event=M.core.event||{FILTER_CONTENT_UPDATED:"filter-content-updated",EDITOR_CONTENT_RESTORED:"editor-content-restored",FORM_SUBMIT_AJAX:"form-submit-ajax"};M.core.globalEvents=M.core.globalEvents||{FORM_ERROR:"form_error",BLOCK_CONTENT_UPDATED:"block_content_updated"};var eventDefaultConfig={emitFacade:true,defaultFn:function(e){Y.log('Event fired: '+e.type,'debug',LOGNAME);},preventedFn:function(e){Y.log('Event prevented: '+e.type,'debug',LOGNAME);},stoppedFn:function(e){Y.log('Event stopped: '+e.type,'debug',LOGNAME);}};var key;for(key in M.core.event){if(M.core.event.hasOwnProperty(key)&&Y.getEvent(M.core.event[key])===null){Y.publish(M.core.event[key],eventDefaultConfig);}}for(key in M.core.globalEvents){if(M.core.globalEvents.hasOwnProperty(key)&&Y.Global.getEvent(M.core.globalEvents[key])===null){Y.Global.publish(M.core.globalEvents[key],Y.merge(eventDefaultConfig,{broadcast:true}));Y.log('Global event published: '+key,'debug',LOGNAME);}}},'@VERSION@',{"requires":["event-custom"]});YUI.add('moodle-filter_mathjaxloader-loader',function(Y,NAME){M.filter_mathjaxloader=M.filter_mathjaxloader||{_lang:'',_configured:false,configure:function(params){var script=document.createElement("script");script.type="text/x-mathjax-config";script[(window.opera?"innerHTML":"text")]=params.mathjaxconfig;document.getElementsByTagName("head")[0].appendChild(script);this._lang=params.lang;Y.on(M.core.event.FILTER_CONTENT_UPDATED,this.contentUpdated,this);},_setLocale:function(){if(!this._configured){var lang=this._lang;if(typeof window.MathJax!=="undefined"){window.MathJax.Hub.Queue(function(){window.MathJax.Localization.setLocale(lang);});window.MathJax.Hub.Configured();this._configured=true;}}},typeset:function(){if(!this._configured){var self=this;Y.use('mathjax',function(){self._setLocale();Y.all('.filter_mathjaxloader_equation').each(function(node){if(typeof window.MathJax!=="undefined"){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,node.getDOMNode()]);}});});}},contentUpdated:function(event){var self=this;Y.use('mathjax',function(){if(typeof window.MathJax==="undefined"){return;}var processdelay=window.MathJax.Hub.processSectionDelay;window.MathJax.Hub.processSectionDelay=0;window.MathJax.Hub.Config({positionToHash:false});self._setLocale();event.nodes.each(function(node){node.all('.filter_mathjaxloader_equation').each(function(node){window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,node.getDOMNode()]);});});window.MathJax.Hub.processSectionDelay=processdelay;});}};},'@VERSION@',{"requires":["moodle-core-event"]});